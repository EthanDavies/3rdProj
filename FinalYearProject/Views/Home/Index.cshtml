@{
    ViewBag.Title = "Home Page";
}

<h1>Text to Speech via MVC</h1>
<div class="row">
    <div class="col-sm-4">

        <label for="inputText">Type it!</label><br />
        <textarea id="inputText" class="form-control" rows="5" style="width:100%;"></textarea><br />
        <button id="playAudio" type="button" class="btn btn-primary btn-lg btn-block">Say it!</button>

        <div id="divAudio_Player" class="hidden">
            <audio id="audio_player">
                <source id="audio_player_wav" src="@Url.Action("PlayTextArea", "Home", new { text = "type something in first" })" type="audio/mp3" />
                <embed height="50" width="100" src="@Url.Action("PlayTextArea", "Home", new { text = "type something in first" })">
            </audio>
        </div>
    </div>

</div>



@section scripts{

    <script type="text/javascript">
$(function () {

    speak('Jon likes Iced Tea!');

// say a message
function speak(text, callback) {
    var u = new SpeechSynthesisUtterance();
    u.text = text;
    u.lang = 'en-US';

    u.onend = function () {
        if (callback) {
            callback();
        }
    };

    u.onerror = function (e) {
        if (callback) {
            callback(e);
        }
    };

    speechSynthesis.speak(u);
}
});
    </script>


}
